import folium

# Créer une carte de base
mymap = folium.Map(location=[48.8566, 2.3522], zoom_start=13)

# Ajouter des couches de tuiles
folium.TileLayer(
    tiles='https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibXZsbyIsImEiOiJjbG9vdnp0aWowNHRqMm5xbHI1eTE4YTJpIn0.zr9olnEneP7Hf3lM3W26iQ',
    attr='© OpenStreetMap contributors, © Mapbox',
    name='Rues'
).add_to(mymap)

folium.TileLayer(
    tiles='https://api.mapbox.com/styles/v1/mapbox/satellite-v9/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibXZsbyIsImEiOiJjbG9vdnp0aWowNHRqMm5xbHI1eTE4YTJpIn0.zr9olnEneP7Hf3lM3W26iQ',
    attr='© OpenStreetMap contributors, © Mapbox',
    name='Satellite'
).add_to(mymap)

folium.LayerControl().add_to(mymap)

# Ajouter des marqueurs avec popups centrées (points d'origine)
donnees_marqueurs = [
    {'coordinates': [48.8584, 2.2943], 'nom': 'Tour Eiffel', 'description': 'La Tour Eiffel est un symbole de Paris.', 'image_url': 'https://www.frenchmomentsblog.com/wp-content/uploads/2011/10/P1180958.jpg'},
    {'coordinates': [48.8606, 2.3376], 'nom': 'Musée du Louvre', 'description': 'Le Louvre est le plus grand musée du monde.', 'image_url': 'https://www.tripsavvy.com/thmb/6o6axAHX5zcNpvVWcErvgFKaitg=/5472x3648/filters:fill(auto,1)/LouvresengchyeteoGettyImages-5a14669aaad52b00370c599e.jpg'},
    {'coordinates': [48.8529, 2.3504], 'nom': 'Cathédrale Notre-Dame', 'description': 'Notre-Dame est une cathédrale gothique célèbre.', 'image_url': 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/af/Notre-Dame_de_Paris_2013-07-24.jpg/420px-Notre-Dame_de_Paris_2013-07-24.jpg'},
    {'coordinates': [48.8867, 2.3431], 'nom': 'Basilique du Sacré-Cœur', 'description': 'La Basilique du Sacré-Cœur domine Montmartre.', 'image_url': 'https://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/Sacr%C3%A9_Coeur_Fa%C3%A7ade_1.jpg/420px-Sacr%C3%A9_Coeur_Fa%C3%A7ade_1.jpg'},
    {'coordinates': [48.8461, 2.3468], 'nom': 'Panthéon', 'description': 'Le Panthéon est un monument néo-classique.', 'image_url': 'https://via.placeholder.com/150'},
    {'coordinates': [48.8599, 2.3266], 'nom': "Musée d'Orsay", 'description': 'Le Musée d\'Orsay abrite des œuvres impressionnistes.', 'image_url': 'https://via.placeholder.com/150'},
    {'coordinates': [48.8584, 2.3187], 'nom': 'Seine', 'description': 'La Seine est un fleuve traversant Paris.', 'image_url': 'https://via.placeholder.com/150'},
    {'coordinates': [48.8842, 2.3325], 'nom': 'Montmartre', 'description': 'Montmartre est un quartier artistique.', 'image_url': 'https://via.placeholder.com/150'},
    # Ajouter d'autres points au besoin
]

for data in donnees_marqueurs:
    html_popup = f"""
        <div style="background-color: #3498db; color: white; padding: 10px; text-align: center; border-radius: 5px;">
            <b style="font-size: 16px;">{data['nom']}</b><br>
            <hr style="background-color: white; height: 2px;">
            Coordonnées: {data['coordinates']}<br>
            <div style="padding-bottom: 15px;">{data['description']}</div>
            <img src="{data['image_url']}" alt="Image" style="max-width: 100%; border-radius: 5px;">
        </div>
    """

    folium.Marker(
        location=data['coordinates'],
        popup=folium.Popup(html_popup, max_width=300),
        tooltip=data['nom'],
        icon=folium.Icon(icon='fi fi-sr-marker', prefix='custom', color='purple')
    ).add_to(mymap)

# Enregistrer la carte en tant que fichier HTML
mymap.save('carte_leaflet.html')
